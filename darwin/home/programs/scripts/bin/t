#!/usr/bin/env bash

while getopts ":v:" opt; do
    case "$opt" in
        v) VERBOSE=1 ;;
        *) VERBOSE=0 ;;
    esac
done

if [ -p /dev/stdin ]; then
    read -r STRING
else
    if [ "$#" == 1 ]; then
        STRING="$1"
    else
        STRING="$2"
    fi
fi


PHRASE=$(echo "$STRING" | xargs)
FIRST_CHARACTER=${PHRASE:0:1}
if [[ $(echo "$FIRST_CHARACTER" | tr "[:upper:]" "[:lower:]") =~ [a-z] ]]; then
    LANGUAGES="en:uk"
else
    LANGUAGES="uk:en"
fi


if [ "$VERBOSE" ]; then
    eval "trans $LANGUAGES '$PHRASE'"
else
    eval "trans -b $LANGUAGES '$PHRASE'"
fi
